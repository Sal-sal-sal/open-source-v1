# YouTube API Setup Guide

## Overview
Для работы с видео страницей необходимо настроить YouTube Data API v3. Это позволит искать видео на YouTube и получать их метаданные.

## Шаги настройки

### 1. Создание проекта в Google Cloud Console

1. Перейдите на [Google Cloud Console](https://console.cloud.google.com/)
2. Создайте новый проект или выберите существующий
3. Включите YouTube Data API v3:
   - Перейдите в "APIs & Services" > "Library"
   - Найдите "YouTube Data API v3"
   - Нажмите "Enable"

### 2. Создание API ключа

1. Перейдите в "APIs & Services" > "Credentials"
2. Нажмите "Create Credentials" > "API Key"
3. Скопируйте созданный API ключ

### 3. Настройка ограничений (рекомендуется)

1. Нажмите на созданный API ключ для редактирования
2. В разделе "Application restrictions" выберите "HTTP referrers"
3. Добавьте домены вашего приложения
4. В разделе "API restrictions" выберите "Restrict key"
5. Выберите "YouTube Data API v3"

### 4. Добавление ключа в переменные окружения

Добавьте следующий ключ в ваш `.env` файл:

```env
YOUTUBE_API_KEY=your_youtube_api_key_here
```

### 5. Установка зависимостей

Убедитесь, что установлены необходимые пакеты:

```bash
pip install google-api-python-client yt-dlp
```

## Использование

После настройки API ключа вы сможете:

1. **Искать видео** на YouTube по ключевым словам
2. **Получать метаданные** видео (название, описание, статистика)
3. **Конвертировать видео** в аудио формат
4. **Скачивать аудио** файлы

## Ограничения API

- **Квота**: 10,000 единиц в день (бесплатно)
- **Поиск**: ~100 единиц на запрос
- **Детали видео**: ~1 единица на видео

## Устранение неполадок

### Ошибка "YouTube API key not configured"
- Убедитесь, что `YOUTUBE_API_KEY` добавлен в `.env` файл
- Проверьте, что API ключ действителен

### Ошибка "YouTube API not available"
- Установите `google-api-python-client`: `pip install google-api-python-client`

### Ошибка "yt-dlp not available"
- Установите `yt-dlp`: `pip install yt-dlp`

### Ошибка "Quota exceeded"
- Дождитесь сброса квоты (24 часа)
- Рассмотрите возможность обновления до платного плана

## Безопасность

- **Не публикуйте** API ключ в публичных репозиториях
- Используйте **ограничения по доменам** для API ключа
- Регулярно **мониторьте** использование квоты
- Рассмотрите возможность **ротации** API ключей

## Альтернативы

Если YouTube API недоступен, можно использовать:
- **Invidious API** (альтернативный YouTube API)
- **Piped API** (еще одна альтернатива)
- **Локальные решения** для работы с видео

## Поддержка

При возникновении проблем:
1. Проверьте логи сервера
2. Убедитесь в правильности настройки API ключа
3. Проверьте квоту API в Google Cloud Console
4. Обратитесь к документации YouTube Data API v3 